<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<title>Of Night and Ruin</title>

<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500&display=swap" rel="stylesheet">

<style>

/* =====================================
   GLOBAL
===================================== */

html, body {
    margin: 0;
    height: 100%;
    background: #0b0b0c;
    overflow: hidden; /* DESK RULE */
    font-family: "Cormorant Garamond", serif;
}


/* =====================================
   JOURNAL FRAME
===================================== */

#journal {
    display: flex;
    height: 100vh;
    width: 100vw;
}


/* =====================================
   SIDEBAR
===================================== */

#contents {
    width: 260px;
    background: #151515;
    color: #8c8476;
    overflow-y: auto;
    border-right: 1px solid rgba(255,255,255,0.05);
}

#contents a {
    display: block;
    padding: 14px 24px;
    text-decoration: none;
    color: inherit;
    transition: 0.3s;
}

#contents a:hover {
    color: #d6c9a5;
}


/* =====================================
   BOOK AREA (STATIC)
===================================== */

#entry-frame {

    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;

    padding: 40px;
}


/* =====================================
   SCROLLING JOURNAL PAGE
===================================== */

#entry-container {

    width: min(900px, 85vw);
    height: 90vh;

    overflow-y: auto;   /* JOURNAL SCROLL */

    padding: 80px 90px;

    background:
        radial-gradient(
            ellipse at center,
            rgba(255,252,240,1) 0%,
            rgba(245,238,220,1) 70%,
            rgba(220,210,185,1) 100%
        );

    box-shadow:
        inset 0 0 80px rgba(0,0,0,0.15),
        0 0 120px rgba(0,0,0,0.9);

    color: #2b2622;

    transition: opacity 0.6s ease;
}


/* =====================================
   PAPER TEXTURE
===================================== */

#entry-container::after {
    content:"";
    position:absolute;
    inset:0;
    pointer-events:none;

    background:
        repeating-linear-gradient(
            0deg,
            rgba(0,0,0,0.015),
            rgba(0,0,0,0.015) 1px,
            transparent 1px,
            transparent 3px
        );
}


/* =====================================
   ENTRY TYPOGRAPHY
===================================== */

.entry-text {
    font-size: 20px;
    line-height: 1.9;
    letter-spacing: 0.3px;
}

.entry-text p {
    text-indent: 2em;
    margin-bottom: 1.6em;
}


/* =====================================
   TITLE
===================================== */

.entry-title {
    text-align: center;
    letter-spacing: 2px;
    margin-bottom: 60px;
    font-weight: 400;
}


/* =====================================
   FADE TRANSITION
===================================== */

.fade {
    opacity: 0;
}

</style>
</head>

<body>

<div id="journal">

    <!-- CONTENTS -->
    <aside id="contents">

        <a onclick="loadEntry('entries/entry01.html')">
            Entry I
        </a>

        <a onclick="loadEntry('entries/entry02.html')">
            Entry II
        </a>

    </aside>


    <!-- BOOK -->
    <div id="entry-frame">

        <div id="entry-container">
            Loading...
        </div>

    </div>

</div>


<script>

/* =====================================
   ENTRY LOADER
===================================== */

function loadEntry(entry) {

    const container =
        document.getElementById("entry-container");

    container.classList.add("fade");

    setTimeout(() => {

        fetch(entry)
        .then(r => r.text())
        .then(html => {

            container.innerHTML = html;
            container.scrollTop = 0; // reset page
            container.classList.remove("fade");

        });

    }, 300);
}


/* AUTO LOAD FIRST ENTRY */

window.onload = () => {
    loadEntry("entries/entry01.html");
};

</script>

</body>
</html>
